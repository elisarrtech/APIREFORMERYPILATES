@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import branding variables and component styles */
@import "./styles/branding.css";

/* ==========================================================================
   Global overrides & utility helpers
   These rules are intended to be minimal and complementary to branding.css.
   Keep general layout, accessibility and important overrides here.
   ========================================================================== */

/* Ensure custom button utility classes are always displayed as flex for centering */
.btn-primary,
.btn-outline,
.btn-neutral {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Basic reset for images used as decorative backgrounds */
img {
  display: block;
  max-width: 100%;
}

/* Force hero CTAs to be above overlays when present */
.hero .btn-primary,
.hero .btn-outline,
.hero button {
  z-index: 6 !important;
  color: #fff !important;
}

/* Small helpers for debug / emergency fixes */
.force-contrast .btn-primary,
.force-contrast .btn-outline,
.force-contrast .card * {
  color: #fff !important;
  border-color: rgba(255,255,255,0.85) !important;
}

/* If any component applies a light/white overlay that hides text,
   these rules prioritize a dark overlay for legibility. The selectors
   cover many common overlay class name patterns. */
[class*="overlay"],
.card::after,
.card .card-overlay,
.image-overlay,
.overlay,
.thumbnail-overlay,
.hero .image-overlay {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  background: linear-gradient(180deg, rgba(10,20,22,0.55) 0%, rgba(10,20,22,0.35) 40%, rgba(255,255,255,0.02) 100%) !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

/* Ensure card content appears above overlays and is readable */
.card .card-content,
.class-card .card-content,
.card .card-text,
.class-card .title,
.class-card .excerpt {
  position: relative !important;
  z-index: 2 !important;
  color: #fff !important;
  text-shadow: 0 6px 18px rgba(0,0,0,0.35) !important;
}

/* Light-card variant (explicit override for cards that must stay light) */
.card.light::after,
.card.light .image-overlay,
.card.light .overlay {
  background: none !important;
}
.card.light .card-content {
  color: var(--text-dark) !important;
  text-shadow: none !important;
}

/* Whatsapp floating button default positioning if not already provided */
.fab-whatsapp {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 60;
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  background: var(--brand-success);
  color: #fff;
  box-shadow: 0 8px 26px rgba(42,97,48,0.24);
}

/* Accessibility: focus outlines for interactive elements */
button:focus,
a:focus {
  outline: 3px solid rgba(27,61,78,0.12);
  outline-offset: 3px;
}

/* Utility to temporarily disable overlays (useful for debugging invisible text) */
.no-overlay [class*="overlay"], .no-overlay::after {
  background: none !important;
}

/* Small responsive helpers */
@media (max-width: 640px) {
  .plan-display { font-size: 2.8rem !important; }
  .plan-card-dark { padding: 1.6rem 1rem !important; }
}

/* Ensure plan cards on dark background keep text visible even if other cascades exist */
.plan-section .plan-card-dark * {
  color: inherit !important;
}

/* Keep principles icons and titles consistent if branding didn't load */
.principle-icon svg {
  color: var(--color-teal, #1B3D4E);
  stroke: currentColor;
  fill: none;
}
.principle-title {
  margin-top: 0.5rem;
  font-style: italic;
  font-weight: 700;
  color: var(--color-teal, #1B3D4E);
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 1rem;
  line-height: 1;
  letter-spacing: 0.01em;
}

/* Final safety: if something still hides plan text, force visibility */
.plan-card-dark .plan-display,
.plan-card-dark .plan-price,
.plan-card-dark .plan-sub {
  color: #fff !important;
  text-shadow: 0 6px 18px rgba(0,0,0,0.25) !important;
}
